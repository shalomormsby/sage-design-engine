/* ── GlassSurface — Liquid Glass ──
   Apple macOS 26 glass materials: same blur, same base color,
   five thickness tiers that differ only in background opacity.
   12 percentage-point steps: 28 → 38 → 48 → 58 → 68.

   `backface-visibility: hidden` forces a GPU compositing layer so
   the effect renders identically across environments.
*/

/* ── tokens ── */
:root {
  --glass-border: rgba(255, 255, 255, 0.35);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.10);
}
.dark {
  --glass-border: rgba(255, 255, 255, 0.10);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.30);
}

/* Resolve light/dark tint — component sets both inline, CSS picks the right one */
.glass-surface { --glass-tint-rgb: var(--glass-tint-light, 200, 200, 200); }
.dark .glass-surface { --glass-tint-rgb: var(--glass-tint-dark, 57, 57, 57); }

/* ── base ── */
/* backdrop-filter is applied inline in GlassSurface.tsx to prevent
   Lightning CSS from stripping the standard property and mangling
   the -webkit- prefix value in production builds. */
.glass-surface {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  background: transparent;
  transition:
    background 0.3s ease,
    box-shadow 0.3s ease,
    border-color 0.3s ease;
}

/* ── thickness classes — opacity driven by tint color from component ── */
.glass-surface--active                           { background: rgba(var(--glass-tint-rgb), 0.38); }
.glass-surface--active.glass-surface--ultrathin  { background: rgba(var(--glass-tint-rgb), 0.28); }
.glass-surface--active.glass-surface--thin       { background: rgba(var(--glass-tint-rgb), 0.38); }
.glass-surface--active.glass-surface--medium     { background: rgba(var(--glass-tint-rgb), 0.48); }
.glass-surface--active.glass-surface--thick      { background: rgba(var(--glass-tint-rgb), 0.58); }
.glass-surface--active.glass-surface--ultrathick { background: rgba(var(--glass-tint-rgb), 0.68); }

/* ── shadow + inset highlight ── */
.glass-surface--active {
  box-shadow: var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.40);
}
.dark .glass-surface--active {
  box-shadow: var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

/* ── position borders ── */
.glass-surface--top.glass-surface--active {
  border-bottom: 1px solid var(--glass-border);
}
.glass-surface--bottom.glass-surface--active {
  border-top: 1px solid var(--glass-border);
}
